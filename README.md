# EpsilonSecure
# Спецификация протокола Эпсилон для безопасной передачи данных
Протокол Эпсилон (на ходу придумал)

Мощный протокол позволяющий без передачи айпи адресов реализовать p2p соединение. (Магия!). Изначально предназначен для одноименного мессенджера



Существует четыре блокчейна:

Один для создания и обновления профилей, в нём шифрование проходит через kyber для абсолютной безопасности и защиты от квантовых аттак. Клиент пользователя должен добавлять новую запись после каждого переподключения для указания нового маршрута. Архитектура: Proof of Rating (аналог PoS в моём исполнении)

Второй нужен для распределения узлов. Шифрование здесь иное, уже менее надежный ECC-256, так как блоки будут крайне быстро устаревать и не нести никакой ценности (когда пользователь отключается можно сказать что блок его сессии уже устарел), архитектура здесь та же самая.

Третий (бонусный). Самый важный блокчейн в котором данные подвергаются максимальному шифрованию. Пользователь будет использовать данный блокчейн скорее всего один раз за существование аккаунта. Сам блокчейн отвечает за реестр записей "@юзернейм - публичный ключ". Шифрование kyber, архитектура: PoW (для максимальной безопасности)

Четвертый, реестр для записей рейтинга, самый веселый (PoR но с модификациями) вплане архитектуры, шифрование - kyber, нужен для составления рейтинга пользователей. Блоки содержат большое количество записей которые подписываются огромным количеством других пользователей, записи означают повышения/понижения рейтинга пользователей чтобы например предотвращать спам, мошеничество, отнимание свободных юзернеймов

Так же существует рейтинг для узлов, но он сбрасывается каждое подключение.

# Передача сообщения
Теперь разберем как происходит передача сообщения от алисы к бобу.
1) Алиса получает каким либо образом юзернейм боба.
2) Алиса ищет в третьем блокчейне публичный ключ боба.
3) Алиса ищет в первом блокчейне маршрут боба для текущей сессии боба
4) Алиса собирает маршрут из "свой до первого из маршрута боба" + "маршрут боба"
5) Алиса зашифровывает общий секрет, свой публичный ключ (для обратной связи) публичным ключом боба
6) Алиса отправляет блок из маршрута из 4 шага и сообщения из 5 шага и отправляет на первый блок
7) Все на пути маршрута последовательно расшифровывают маршрут, но не само сообщение
8) Боб получает всю информацию для соединения с Алисой

Теперь чуть подробнее про реестр юзернеймов и почему Ева не может ничего натворить на первом шаге.
Ева - всего лишь один злоумышленик который хочет перехватывать содержимое сообщений, для этого ей надо подделать запись в третьем блокчейне для чего ей надо совершить атаку 51 процента. Так же, если Ева выступает узлом, то она тем более ничего не сделает с секретом, максимум испортит сообщение или заменит его на своё (но зачем если ева и так может это сделать без взлома). После любой попытки компроментации диалога, если возможно, Алиса предоставляет все необходимые доказательства и Еве понижают рейтинг в четвертом блокчейне.

# Рейтинг 
это оценка обществом и автоматическими системами поведения пользователя. Если он занимается спамом, то Боб просто не будет соглашаться на обратную связь с ним. Записи доказательств хранятся в четвертом блокчейне.

# Узел 
это любой пользователь под маской. Реальное взаимодействие проиходит между узлами а не пользователями. Это нужно для сохранения анонимности айпи  адресов пользователей. Со временем если узел хорошо и долго работает то ему повышается рейтинг и Алиса и Боб будут стараться начинать сессии через "хороший" узел. Публичные ключи для узла - сессионые, они меняются каждый раз как узел перезайдёт в сеть. Если пользователь искуственно заблокирует свой узел для разгрузки устройства, то рейтинг узла понизится до нуля и он просто не сможет отправить/получить не одно сообщение.

# Как узлы узнают друг друга?
Через второй блокчейн! Узел добавляет себя в блокчейн через старые/предустановленные узлы и обращается уже не с пользователями а с самими узлами. После рукопожатий со всеми соседями он становится частью сети!
Соседи узла это граппа состоящая из ~120 узлов чьи айпи адресса узел знает. Каждому узлу в реестре присваивается порядковый номер (например 12543 - валидный номер, так же как и 2 или 65). Соседи узла это те у которых порядковый номер отличается на любое из значений выражения на +-a * (b^D) где a < D, a,b - любые натуральные переменные, D - константа для сети. Предполагается что она будет равна 10. То есть соседи для единицы - 2,3,4,5,6,7,8,9,10,101,201,301...

# Итоги
Такая сеть защищенна от следующих атак:
1) DoS - в сообщение может подтверждаться с помощью тревиальной сложной задачи (по типу PoW на минималках)
2) NodeSpam - уникальная атака от которой спасает рейтинг узлов и то же подтверждение работой
3) Man in middle - уже описанно выше
4) SPAM - описано выше


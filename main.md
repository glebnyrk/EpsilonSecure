# Epsilon

### Школьный проект Ныркова Глеба

## Тема

Основная проблема которую решает проект это безопасная передача сообщений между людьми. С помощью современных алгоритмов шифрования добивается хорошая защита данных.

## Проблемы существующих решений

Все изученные мной алгоритмы полагаются на один единый центр которому все должны "доверять". С помощью децентрализованных решений (P2P) были исключены подобные проблемы. Так же очень часто используются алгоритмы не защищенные от квантовых компьютеров, что с недавних пор стало актуальной проблемой.

## Теория

### Симметричное шифрование [1]

Это разновидность шифрования при котором для зашифровки и расшифровки используются одинаковые ключи (пароли). Один из самых проверенных и надежных алгоритмов в данной области считается AES-256 [2], где 256 означает длину ключа в двоичной системе исчислений (бинарной)

### Ассиметричное шифрование [3]

Ключи для симметричного шифрования должны быть скрыты от перехватчика, и в этом частично может помочь алгоритм который для расшифровки и расшифровки использует разные ключи как либо связанные. Один из ключей называют приватным и он не должен покидать жесткий диск компьютера или телефона, а так же есть публичный ключ который так же называют сертификатом, с помощью сертификата шифруют сообщения, а получатель их расшифровывает своим приватным ключом. Так можно безопасно передать симметричный ключ. Многие популярные протоколы используют такие алгоритмы как RSA или ECC-256, однако они подвержены квантовым вычислениям. Для наилучшей защиты для проекта был выбран протокол kyber который использует очень длинные ключи, но является постквантовым (устойчив к квантовым атакам)

### Хэш функция [4]
Хэш функция это тоже подвид шифрования, но в криптографии (в отличие от информатики) хэш функция должна давать односторонний результат. Сама по себе хэш функция преобразует неограниченный объем данных в заданный по длине. Для одних и тех же данных хэш всегда будет одинаковым, но для любых минимально отличающихся данных он должен не предсказуемо изменятся. Самым популярным алгоритмом считается SHA-256, но также есть SHA-512 который медленнее, но безопаснее так как генерирует хэщ вдвое больше

### Подпись сообщений
Иногда сообщение нужно не передать по секрету, а доказать всем кто является автором. Для этого существуют подписи. Идея в том что берется хэш от сообщения и зашифровывается с помощью сопряженного алгоритма с ассиметричным. После этого получатель зная публичный ключ автора может вычислить хэш заявленного сообщения и зашифровать его публичным ключом автора и сравнить с приложенной подписью. Если всё совпадет, то сообщение написано заявленной личностью или организацией

### Блокчейн
Технология позволяющая обходить проблемы с передачей денежных средств путем хранения всех транзакций не в центральном сервере (ЦОД) а распределенных между всеми участниками сети. Каждый блок в сети имеет в себе транзакции, хэш предыдущего блока и подтверждение валидности каждой транзакции (чтобы баланс отправителей не уходил в минус). Каждая транзакция подписывается адресантом.

### Существующие протоколы
* Алгоритм Диффи-Хеллмана основан на сложности дискретного логарифмирования
* TLS (SSL) полноценный протокол который используется по сей день на всех сайтах (подпись https в начале ссылки признак того что используется шифрование)
* Bitcoin первая реализация старой задумки о виртуальных деньгах
* Ethereum творение нашего соотечественника Виталика Бутерина исправляющее ошибки Bitcoin

## Собственная работа

### Предисловие
Главной целью было передача сообщений просто и безопасно, первой идеей было хранением всех данных в одном блокчейне, но после решения проблем со скоростью, объемом и простотой было получено почти идеальное решение.

### Описание решения
IP адрес считается относительно публичной информацией, но всё равно требует минимальной сохранности. Одним из популярных сейчас решений считается TOR, путём выбора трёх случайных узлов сообщение по очереди шифруется и отправляется на ноду, где оно расшифровывается и пересылается дальше. Такое решение называют Onion Routing (с англ. - луковая маршрутизация) сравнивая расшифровку сообщений с чисткой лука. Однако если все ноды будут принадлежать одному человеку то он может узнать отправителя сообщения. Так же возможно ограничить доступ ко всей сети, так как IP адреса всех узлов известны. Решением проблемы стало ограничение доступа ко всей таблице адресов для всех

#### Соседи
Каждый узел (или нода) может получить адреса только тех узлов с кем он является соседом. Так, даже сами ноды остаются анонимными. Вместо случайного подбора адресов из публичной таблицы строится маршрут через узлов-соседей. Эта идея очень похожа на теорию шести рукопожатий. Напрямую вы не знаете какую-либо звезду, но вы можете знать того кто знает тех, кто знает того, кто знает и т.д. В среднем на поиск звезды у вас уйдёт 6 рукопожатий, но вы не знаете какая должна быть последовательность. Компьютеру можно четко описать кто и кого должен знать простым правилом.

#### Проблема знания соседа
Предположим, что вы как звезда подключайтесь к сети, а ваши соседи в сети это ваши фанаты. Эти фанаты теперь знают ваш IP адрес и могут сделать с этим что угодно. Для избежания подобных проблем можно просто отвязать взаимосвязь между личным аккаунтом в сети и нодой для передачи сообщения. Всем посторонним теперь кажется что вы просто обычная нода и ваша личность более не опознаваемая.

#### Мотивация узлов
Во многих подобных системах реализована награда за передачу сообщений. В некоторых, таких как TOR ноды запускают добровольцы. Вместо таких решений, в моей сети каждый пользователь должен сам же запускать ноду каждый раз (никто не запрещает это автоматизировать). Это нужно для решения проблемы озвученной в предыдущем абзаце, а так же общей безопасности сети. В случае если пользователь решит сэкономить трафик и умышленно запретит через себя передавать сообщения, он же сам не сможет ничего отправить из-за того что его рейтинг между соседями понизится и они начнут отказывать в передаче.

#### Рейтинговая система
Нода не обязательно должна являться частью клиентского приложения. При желании можно создать ноду, которая будет только передавать сообщения. Это серверная нода. Логично что сервера могут работать гораздо дольше и лучше мобильного телефона или ноутбука. За такую крайне эффективную работу будет начисляться рейтинг самой ноде, за плохую передачу её "убьют" ужасным рейтингом из-за чего придется её реинициализировать. При построении маршрута приложение будет так же ориентироваться на рейтинг ноды, ставя её в приоритет. За хороший рейтинг владельцам нод будут поступать криптовалютные средства

#### Вход в сеть
Совсем без IP адресов не получится передавать пакеты (сообщения, если вам так удобнее), поэтому в приложение будет вшито несколько входных точек, а так же оно будет хранить в кеше последние известные узлы с хорошим рейтингом. Через эти корневые узлы будет происходить рукопожатие с соседями и подключение, как через прокси сервер

#### Реестры данных
Данные нельзя получить из воздуха. Приходится их где-то хранить. Оптимальным решением совмещающее и безопасность, и скорость стал блокчейн. В разных блокчейнах сети будут разные данные вместо привычных записей транзакций. Вот таблица номеров и предназначений блокчейнов 
##### Первый
Предназначен для распространения маршрутов до пользователя
##### Второй
Тут будут храниться публичные ключи и идентификаторы для узлов, что облегчит навигацию
##### Третий
Таблица доменых имен / юзернеймов. Тут будет сопоставляться публичный ключ для пользователя и его краткая 
запись. Чтобы обмен контактами происходил максимально быстро
##### Четвертый
Это по сути список жалоб на ноды. Если жалоба оправдана ее подписывают другие ноды и убивают обвиняемую.
##### Пятый
Самый обыкновенный блокчейн для переводов криптовалют (транзакций).





[1] https://ru.wikipedia.org/wiki/Симметричные_криптосистемы

[2] https://ru.wikipedia.org/wiki/AES_(стандарт_шифрования)

[3] https://ru.wikipedia.org/wiki/Криптосистема_с_открытым_ключом

[4] https://ru.wikipedia.org/wiki/Хеш-функция